# Bermuda Class Finder

**[English version](README.md)**

[![PHP Version](https://img.shields.io/badge/php-%3E%3D8.4-blue.svg)](https://php.net/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

–ú–æ—â–Ω–∞—è –∏ –≥–∏–±–∫–∞—è PHP –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ PHP –∫–ª–∞—Å—Å–æ–≤ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç—Ä–µ–π—Ç—ã, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è) –≤ –≤–∞—à–µ–º –∫–æ–¥–µ. –°–æ–∑–¥–∞–Ω–∞ —Å —É—á—ë—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PHP 8.4+.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–£–º–Ω—ã–π –ø–æ–∏—Å–∫**: –ù–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç—Ä–µ–π—Ç—ã –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
- üéØ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ë–æ–≥–∞—Ç—ã–π –Ω–∞–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- üöÄ **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å —Ä–∞–Ω–Ω–∏–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- üîÑ **–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- üé® **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤**: –ì–ª—É–±–æ–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç—ã PHP 8+ —Å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- üì¶ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å PSR-11**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- üß© **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Å–ª—É—à–∞—Ç–µ–ª—è–º–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
composer require bermudaphp/finder
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.4 –∏–ª–∏ –≤—ã—à–µ
- Composer

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
use Bermuda\ClassFinder\ClassFinder;

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞
$finder = new ClassFinder();

// –ü–æ–∏—Å–∫ –≤—Å–µ—Ö PHP –∫–ª–∞—Å—Å–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
$classes = $finder->find(['src/', 'app/']);

foreach ($classes as $filename => $classInfo) {
    echo "–ù–∞–π–¥–µ–Ω: {$classInfo->fullQualifiedName} –≤ {$filename}\n";
}
```

### –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```php
use Bermuda\ClassFinder\ClassFinder;
use Bermuda\ClassFinder\Filter\{
    InstantiableFilter,
    ImplementsFilter,
    AttributeSearchFilter
};

// –ü–æ–∏—Å–∫ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã—Ö –∫–ª–∞—Å—Å–æ–≤, —Ä–µ–∞–ª–∏–∑—É—é—â–∏—Ö –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
$finder = new ClassFinder([
    new InstantiableFilter(),
    new ImplementsFilter(['Serializable', 'Countable']),
    new AttributeSearchFilter(['Route'])
]);

$results = $finder->find('src/');
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

### –§–∏–ª—å—Ç—Ä—ã —Ç–∏–ø–æ–≤ –∫–ª–∞—Å—Å–æ–≤

#### InstantiableFilter
–ù–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å (–Ω–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ, –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –Ω–µ —Ç—Ä–µ–π—Ç—ã):

```php
use Bermuda\ClassFinder\Filter\InstantiableFilter;

$filter = new InstantiableFilter();
// –ü–æ–¥—Ö–æ–¥–∏—Ç: class UserService { ... }
// –ò—Å–∫–ª—é—á–∞–µ—Ç: abstract class BaseService { ... }
```

#### IsAbstractFilter
–ù–∞—Ö–æ–¥–∏—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã:

```php
use Bermuda\ClassFinder\Filter\IsAbstractFilter;

$filter = new IsAbstractFilter();
// –ü–æ–¥—Ö–æ–¥–∏—Ç: abstract class BaseController { ... }
```

#### IsFinalFilter
–ù–∞—Ö–æ–¥–∏—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã:

```php
use Bermuda\ClassFinder\Filter\IsFinalFilter;

$filter = new IsFinalFilter();
// –ü–æ–¥—Ö–æ–¥–∏—Ç: final class UserService { ... }
```

### –§–∏–ª—å—Ç—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

#### ImplementsFilter
–ù–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

```php
use Bermuda\ClassFinder\Filter\ImplementsFilter;

// –û–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
$filter = new ImplementsFilter('Serializable');

// –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–í–°–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã - –ª–æ–≥–∏–∫–∞ –ò)
$filter = new ImplementsFilter(['Serializable', 'Countable']);

// –õ—é–±–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ª–æ–≥–∏–∫–∞ –ò–õ–ò)
$filter = ImplementsFilter::implementsAny(['Serializable', 'Countable']);
```

#### SubclassFilter
–ù–∞—Ö–æ–¥–∏—Ç –∫–ª–∞—Å—Å—ã, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å:

```php
use Bermuda\ClassFinder\Filter\SubclassFilter;

$filter = new SubclassFilter('App\\Controller\\AbstractController');
// –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∫–ª–∞—Å—Å—ã, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–µ AbstractController
```

### –§–∏–ª—å—Ç—Ä –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### CallableFilter
–ù–∞—Ö–æ–¥–∏—Ç –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –∫–ª–∞—Å—Å—ã (–∫–ª–∞—Å—Å—ã —Å –º–µ—Ç–æ–¥–æ–º `__invoke`):

```php
use Bermuda\ClassFinder\Filter\CallableFilter;

$filter = new CallableFilter();
// –ü–æ–¥—Ö–æ–¥–∏—Ç: class MyClass { public function __invoke() { ... } }
```

### –§–∏–ª—å—Ç—Ä—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

#### PatternFilter
–£–º–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ü–µ–ª–∏:

```php
use Bermuda\ClassFinder\Filter\PatternFilter;

// –ü–æ–∏—Å–∫ –≤ –∏–º–µ–Ω–∞—Ö –∫–ª–∞—Å—Å–æ–≤
$filter = new PatternFilter('*Controller');     // –ö–ª–∞—Å—Å—ã, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ "Controller"
$filter = new PatternFilter('Abstract*');       // –ö–ª–∞—Å—Å—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å "Abstract"
$filter = new PatternFilter('*Test*');          // –ö–ª–∞—Å—Å—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ "Test"

// –ü–æ–∏—Å–∫ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö –∏–º—ë–Ω
$filter = new PatternFilter('App\\Controllers\\*');  // –ö–ª–∞—Å—Å—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º—ë–Ω Controllers

// –ü–æ–∏—Å–∫ –≤ –ø–æ–ª–Ω—ã—Ö –∏–º–µ–Ω–∞—Ö –∫–ª–∞—Å—Å–æ–≤
$filter = new PatternFilter('*\\Api\\*Controller');  // API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
$filter = PatternFilter::exactMatch('UserController');
$filter = PatternFilter::contains('Service');
$filter = PatternFilter::startsWith('Abstract');
$filter = PatternFilter::endsWith('Controller');
$filter = PatternFilter::namespace('App\\Services');
```

### –§–∏–ª—å—Ç—Ä—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤

#### AttributeSearchFilter
–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞:

```php
use Bermuda\ClassFinder\Filter\AttributeSearchFilter;

// –ü–æ–∏—Å–∫ –∫–ª–∞—Å—Å–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
$filter = new AttributeSearchFilter(['Route', 'Controller']);

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–æ—á–Ω—ã–µ –∏–º–µ–Ω–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
$filter = new AttributeSearchFilter(['Route', '*Test*', 'Api*']);

// –õ–æ–≥–∏–∫–∞ –ò - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –í–°–ï –∞—Ç—Ä–∏–±—É—Ç—ã
$filter = new AttributeSearchFilter(['Route', 'Middleware'], matchAll: true);

// –ì–ª—É–±–æ–∫–∏–π –ø–æ–∏—Å–∫ –≤ —á–ª–µ–Ω–∞—Ö –∫–ª–∞—Å—Å–∞ (–º–µ—Ç–æ–¥—ã, —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
$filter = new AttributeSearchFilter(['Inject'], deepSearch: true);

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏
$filter = AttributeSearchFilter::hasAttribute('Route');
$filter = AttributeSearchFilter::hasAnyAttribute(['Route', 'Controller']);
$filter = AttributeSearchFilter::hasAllAttributes(['Route', 'Middleware']);
```

#### AttributePatternFilter
–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è –∏–º—ë–Ω –∞—Ç—Ä–∏–±—É—Ç–æ–≤:

```php
use Bermuda\ClassFinder\Filter\AttributePatternFilter;

// –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
$filter = new AttributePatternFilter('*Route*', deepSearch: true);
$filter = new AttributePatternFilter('Api*');

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏
$filter = AttributePatternFilter::exactAttribute('HttpGet');
$filter = AttributePatternFilter::anyAttribute(['Route', 'HttpGet', 'Controller']);
$filter = AttributePatternFilter::attributePrefix('Http');
```

## –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### ChainableFilter (–ª–æ–≥–∏–∫–∞ –ò)
–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å –ª–æ–≥–∏–∫–æ–π –ò - —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –í–°–ï —Ñ–∏–ª—å—Ç—Ä—ã, —á—Ç–æ–±—ã –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç—ã–º:

```php
use Bermuda\Filter\ChainableFilter;
use Bermuda\ClassFinder\Filter\{
    InstantiableFilter,
    PatternFilter,
    AttributeSearchFilter
};

// –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º–∏
$chainFilter = new ChainableFilter([
    new InstantiableFilter(),                // –ò: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–º
    new PatternFilter('*Controller'),        // –ò: –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ "Controller"
    new AttributeSearchFilter(['Route'])     // –ò: –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∞—Ç—Ä–∏–±—É—Ç Route
]);

$finder = new ClassFinder([$chainFilter]);
$strictControllers = $finder->find('src/Controllers/');
```

### OneOfFilter (–ª–æ–≥–∏–∫–∞ –ò–õ–ò)
–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å –ª–æ–≥–∏–∫–æ–π –ò–õ–ò - —ç–ª–µ–º–µ–Ω—Ç—É –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ –û–î–ò–ù —Ñ–∏–ª—å—Ç—Ä, —á—Ç–æ–±—ã –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç—ã–º:

```php
use Bermuda\Filter\OneOfFilter;
use Bermuda\ClassFinder\Filter\{
    PatternFilter,
    AttributeSearchFilter,
    ImplementsFilter
};

// –õ—é–±–æ–µ —É—Å–ª–æ–≤–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º
$orFilter = new OneOfFilter([
    new PatternFilter('*Controller'),            // –ò–õ–ò: –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Controller"
    new PatternFilter('*Service'),               // –ò–õ–ò: –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Service"
    new AttributeSearchFilter(['Component']),    // –ò–õ–ò: –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç Component
    new ImplementsFilter('App\\Contracts\\HandlerInterface') // –ò–õ–ò: —Ä–µ–∞–ª–∏–∑—É–µ—Ç HandlerInterface
]);

$finder = new ClassFinder([$orFilter]);
$flexibleResults = $finder->find('src/');
```

### –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ª–æ–≥–∏–∫–∏ –¥–ª—è –∏–∑–æ—â—Ä—ë–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

```php
use Bermuda\Filter\{ChainableFilter, OneOfFilter};
use Bermuda\ClassFinder\Filter\{
    InstantiableFilter,
    PatternFilter,
    AttributeSearchFilter,
    ImplementsFilter
};

// –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–º –ò (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ò–õ–ò –°–µ—Ä–≤–∏—Å –ò–õ–ò –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç Route)
$complexFilter = new ChainableFilter([
    new InstantiableFilter(),  // –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–º
    new OneOfFilter([          // –ò –ª—é–±–æ–µ –∏–∑ —ç—Ç–æ–≥–æ:
        new PatternFilter('*Controller'),        // - –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Controller"
        new PatternFilter('*Service'),           // - –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "Service"  
        new AttributeSearchFilter(['Route'])     // - –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç Route
    ])
]);

$finder = new ClassFinder([$complexFilter]);
$results = $finder->find('src/');
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

```php
use Bermuda\ClassFinder\ClassFinder;
use Bermuda\ClassFinder\Filter\{
    InstantiableFilter,
    PatternFilter,
    AttributeSearchFilter
};

$finder = new ClassFinder([
    new InstantiableFilter(),                    // –¢–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã
    new PatternFilter('*Controller'),            // –ò–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤, –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ "Controller"
    new AttributeSearchFilter(['Route'])         // –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∞—Ç—Ä–∏–±—É—Ç Route
]);

$controllers = $finder->find('src/Controllers/');
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```php
use Bermuda\ClassFinder\ClassFinder;
use Psr\Container\ContainerInterface;

// –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
$finder = ClassFinder::createFromContainer($container);
```

### –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π

–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤:

```php
use Bermuda\ClassFinder\{ClassFinder, ClassNotifier};
use Bermuda\ClassFinder\ClassFoundListenerInterface;
use Bermuda\Tokenizer\ClassInfo;

class MyListener implements ClassFoundListenerInterface
{
    public function handle(ClassInfo $info): void
    {
        echo "–ù–∞–π–¥–µ–Ω –∫–ª–∞—Å—Å: {$info->fullQualifiedName}\n";
    }
}

// –°–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–∏—Ç–µ–ª—è —Å–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–º
$notifier = new ClassNotifier([new MyListener()]);

// –ü–æ–∏—Å–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
$finder = new ClassFinder();
$classes = $finder->find('src/');
$notifier->notify($classes);
```

### –†–µ–∂–∏–º—ã –ø–æ–∏—Å–∫–∞

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º, –∫–∞–∫–∏–µ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å–æ–≤ –∏—Å–∫–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –±–∏—Ç–æ–≤—ã—Ö —Ñ–ª–∞–≥–æ–≤:

```php
use Bermuda\ClassFinder\ClassFinder;
use Bermuda\Tokenizer\TokenizerInterface;

$finder = new ClassFinder();

// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤
$results = $finder->find('src/', [], TokenizerInterface::SEARCH_CLASSES);

// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
$results = $finder->find('src/', [], TokenizerInterface::SEARCH_INTERFACES);

// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–π—Ç–æ–≤
$results = $finder->find('src/', [], TokenizerInterface::SEARCH_TRAITS);

// –ü–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π
$results = $finder->find('src/', [], TokenizerInterface::SEARCH_ENUMS);

// –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –ø–æ–∏—Å–∫–∞ —Å –ø–æ–º–æ—â—å—é –±–∏—Ç–æ–≤–æ–≥–æ –ò–õ–ò
$results = $finder->find('src/', [], 
    TokenizerInterface::SEARCH_CLASSES | TokenizerInterface::SEARCH_INTERFACES
);

// –ü–æ–∏—Å–∫ –≤—Å–µ–≥–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Ç—Ä–µ–π—Ç—ã, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
$results = $finder->find('src/', [], TokenizerInterface::SEARCH_ALL);
```

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–µ–∂–∏–º–æ–≤ –ø–æ–∏—Å–∫–∞:
- `SEARCH_CLASSES = 1` - –ù–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã
- `SEARCH_INTERFACES = 2` - –ù–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã  
- `SEARCH_TRAITS = 4` - –ù–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–π—Ç—ã
- `SEARCH_ENUMS = 8` - –ù–∞–π—Ç–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
- `SEARCH_ALL = 15` - –ù–∞–π—Ç–∏ –≤—Å–µ –û–û–ü —ç–ª–µ–º–µ–Ω—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

```php
use Bermuda\ClassFinder\ClassFinder;

$finder = new ClassFinder();
$classes = $finder->find('src/');

// –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
echo "–ù–∞–π–¥–µ–Ω–æ " . count($classes) . " –∫–ª–∞—Å—Å–æ–≤\n";

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
$array = $classes->toArray();

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
$filtered = $classes->withFilter(new InstantiableFilter());

// –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
$unfiltered = $classes->withoutFilter($someFilter);
```

## –°–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**: –ß–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–µ–µ –≤–∞—à–∏ —Ñ–∏–ª—å—Ç—Ä—ã, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –ø–æ–∏—Å–∫
2. **–ü–æ—Ä—è–¥–æ–∫ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞–∑–º–µ—â–∞–π—Ç–µ —Å–∞–º—ã–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø–µ—Ä–≤—ã–º–∏
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤**: –ü—Ä–æ—Å—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (prefix*, *suffix, *contains*) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏**: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∏—Å–∫–∏ –Ω–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∫–ª–∞—Å—Å–∞—Ö –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –æ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```php
// config/dependencies.php
use Bermuda\ClassFinder\{
    ClassFinder,
    ClassFoundListenerProviderInterface,
    ClassFoundListenerProvider,
    ConfigProvider
};

return [
    'config' => [
        ConfigProvider::CONFIG_KEY_FILTERS => [
            // –í–∞—à–∏ —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        ],
        ConfigProvider::CONFIG_KEY_LISTENERS => [
            // –í–∞—à–∏ —Å–ª—É—à–∞—Ç–µ–ª–∏
        ]
    ],
    
    ClassFoundListenerProviderInterface::class => 
        fn() => ClassFoundListenerProvider::createFromContainer($container)
];
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

```php
$finder = new ClassFinder([
    new InstantiableFilter(),
    new PatternFilter('*Controller'),
    new SubclassFilter('App\\Controller\\BaseController')
]);

$controllers = $finder->find('src/Controllers/');
```

### –ü–æ–∏—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```php
$finder = new ClassFinder([
    new InstantiableFilter(),
    new AttributeSearchFilter(['Service'], deepSearch: true),
    new PatternFilter('*Service')
]);

$services = $finder->find('src/Services/');
```

### –ü–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤

```php
$finder = new ClassFinder([
    new PatternFilter('*Test'),
    new SubclassFilter('PHPUnit\\Framework\\TestCase')
]);

$tests = $finder->find('tests/');
```

### –ü–æ–∏—Å–∫ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

```php
$finder = new ClassFinder([
    new InstantiableFilter(),
    new AttributeSearchFilter(['Route', 'ApiResource'], deepSearch: true)
]);

$endpoints = $finder->find('src/Api/');
```

### –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤

```php
use Bermuda\Filter\{ChainableFilter, OneOfFilter};

// –ü–æ–∏—Å–∫ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –ª–∏–±–æ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏, –ª–∏–±–æ –°–µ—Ä–≤–∏—Å–∞–º–∏, –Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–º–∏
$finder = new ClassFinder([
    new InstantiableFilter(),  // –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É–µ–º—ã–º–∏
    new OneOfFilter([          // –ò (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ò–õ–ò –°–µ—Ä–≤–∏—Å)
        new PatternFilter('*Controller'),
        new PatternFilter('*Service')
    ])
]);

$handleableClasses = $finder->find('src/');
```

### –ì–∏–±–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```php
use Bermuda\Filter\OneOfFilter;

// –ü–æ–∏—Å–∫ –ª—é–±—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–ø–æ–¥–æ–±–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
$componentFilter = new OneOfFilter([
    new AttributeSearchFilter(['Component', 'Service', 'Repository']),
    new ImplementsFilter(['App\\Contracts\\ComponentInterface']),
    new PatternFilter('App\\Components\\*')
]);

$finder = new ClassFinder([$componentFilter]);
$components = $finder->find('src/');
```

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π Bermuda PHP.

---

**[English version / –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è](README.md)**
